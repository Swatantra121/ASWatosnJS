var l_modalinfo=[];function setFields(){try{logDebug("function : setFields ","S"),l_modalinfo=null!==sessionStorage.getItem("modulelist")?JSON.parse(sessionStorage.getItem("modulelist")):[],console.log("l_modalinfo",l_modalinfo),sessionStorage.removeItem("modulelist"),apex.item("P441_MODULE_NAME").setFocus(),"N"==l_modalinfo[0].Type?($("#DELETE_MODULE").css("display","none"),$s("P441_MODULE_ALLOW_OVERLAP","N")):($("#DELETE_MODULE").css("display","inline"),$s("P441_MODULE_ALLOW_OVERLAP",l_modalinfo[0].AllowOvrelap)),$s("P441_POG_MODULE",l_modalinfo[0].PogModule),$s("P441_MODULE_NAME",l_modalinfo[0].ModuleName),$s("P441_MODULE_REMARKS",l_modalinfo[0].Remarks),$s("P441_POG_MODULE_HEIGHT",l_modalinfo[0].H),$s("P441_POG_MODULE_WIDTH",l_modalinfo[0].W),$s("P441_POG_MODULE_DEPTH",l_modalinfo[0].D),$s("P441_POG_MODULE_ROTATION",l_modalinfo[0].Rotation),$s("P441_MODULE_COLOR",l_modalinfo[0].Color),$s("P441_POG_MODULE_NWIDTH",l_modalinfo[0].NotchW),$s("P441_POG_MODULE_NSTART",l_modalinfo[0].NStart),$s("P441_POG_MODULE_NSPACING",l_modalinfo[0].Nspacing),$s("P441_MODULE_HORZ_START",l_modalinfo[0].HorzStart),$s("P441_MODULE_HORZ_SPACING",l_modalinfo[0].HorzSpacing),$s("P441_MODULE_VERT_START",l_modalinfo[0].VertStart),$s("P441_MODULE_VERT_SPACING",l_modalinfo[0].VertSpacing),$s("P441_DIVISION",l_modalinfo[0].Division),$s("P441_DEPT",l_modalinfo[0].Dept),$s("P441_SUBDEPT",l_modalinfo[0].Subdept),$s("P441_DIVISION",l_modalinfo[0].Division),$s("P441_NEW_TEMPLATE",l_modalinfo[0].IsTemplate),$("#P441_DEPT").on("apexafterrefresh",(function(){apex.item(this).setValue(l_modalinfo[0].Dept)})),$("#P441_SUBDEPT").on("apexafterrefresh",(function(){apex.item(this).setValue(l_modalinfo[0].Subdept)})),$("body").on("keydown",(function(_){13==_.keyCode&&(_.preventDefault(),$("#CREATE_POG_MODULE").click())})),"Y"==$v("P441_NEW_TEMPLATE")&&$("#P441_SUBDEPT_CONTAINER .t-Form-itemRequired-marker").remove(),logDebug("function : setFields ","E")}catch(_){error_handling(_)}}function set_values(_){try{logDebug("function : set_values pAction: "+_,"S");var e=[],o={};o.Module=$v("P441_POG_MODULE"),o.ModuleName=$v("P441_MODULE_NAME"),o.Subdept=$v("P441_SUBDEPT"),o.Remarks=$v("P441_MODULE_REMARKS"),o.H=$v("P441_POG_MODULE_HEIGHT"),o.W=$v("P441_POG_MODULE_WIDTH"),o.D=$v("P441_POG_MODULE_DEPTH"),o.Rotation=$v("P441_POG_MODULE_ROTATION"),o.Color=$v("P441_MODULE_COLOR"),o.ModuleNwidth=$v("P441_POG_MODULE_NWIDTH"),o.ModuleNstart=$v("P441_POG_MODULE_NSTART"),o.ModuleNspacing=$v("P441_POG_MODULE_NSPACING"),o.HorzStart=$v("P441_MODULE_HORZ_START"),o.HorzSpacing=$v("P441_MODULE_HORZ_SPACING"),o.VertStart=$v("P441_MODULE_VERT_START"),o.VertSpacing=$v("P441_MODULE_VERT_SPACING"),o.ModuleAllowOverlap=$v("P441_MODULE_ALLOW_OVERLAP"),o.Action=_,e.push(o),sessionStorage.setItem("mod_details",JSON.stringify(e)),logDebug("function : set_values ","E"),apex.submit("CLOSE_Module")}catch(_){error_handling(_)}}function validate_data(){logDebug("function : validate_data ","S");var _=$v("P441_POG_MODULE"),e="N";try{if(l_modalinfo[0].ModNames.length>0)for(const o of l_modalinfo[0].ModNames)_.toUpperCase().trim()===o.toUpperCase().trim()&&(e="Y");""==$v("P441_POG_MODULE")||""==$v("P441_SUBDEPT")&&"Y"!=$v("P441_NEW_TEMPLATE")||""==$v("P441_POG_MODULE_HEIGHT")||""==$v("P441_POG_MODULE_WIDTH")||""==$v("P441_POG_MODULE_DEPTH")||""==$v("P441_MODULE_COLOR")?alert(get_message("ENTER_MANDATORY_FIELDS")):"Y"==e?alert(get_message("MODULE_UNIQUE_ID")):0==$v("P441_POG_MODULE_HEIGHT")?alert(get_message("HEIGHT_GRT_THAN_ZERO")):0==$v("P441_POG_MODULE_WIDTH")?alert(get_message("WIDTH_GRT_THAN_ZERO")):0==$v("P441_POG_MODULE_DEPTH")?alert(get_message("DEPTH_GRT_THAN_ZERO")):parseFloat($v("P441_MODULE_HORZ_START"))/100>=parseFloat($v("P441_POG_MODULE_WIDTH"))/100-parseFloat($v("P441_POG_MODULE_NWIDTH"))/100*2?alert(get_message("HORZ_START_LESS_POG_WIDTH")):parseFloat($v("P441_MODULE_VERT_START"))/100>parseFloat($v("P441_POG_MODULE_HEIGHT"))/100?alert(get_message("VERT_START_LESS_THAN_HEIGHT")):set_values("U"),logDebug("function : validate_data ","E")}catch(_){error_handling(_)}}