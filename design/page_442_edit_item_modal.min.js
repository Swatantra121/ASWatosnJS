var l_items_details={},dim_edit_done="N",auto_crush="N";function validate_crush(_){try{logDebug("function : validate_crush; p_crush_type: "+_,"S"),"N"==l_items_details.g_multiselect&&("VERT"==_?"H"==l_items_details.actualHeight?parseFloat($v("P442_CRUSH_VERT"))>parseFloat($v("P442_CRUSH_HGT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_VERT",0)):"W"==l_items_details.actualHeight?parseFloat($v("P442_CRUSH_VERT"))>parseFloat($v("P442_CRUSH_WDT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_VERT",0)):"D"==l_items_details.actualHeight&&parseFloat($v("P442_CRUSH_VERT"))>parseFloat($v("P442_CRUSH_DPT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_VERT",0)):"HORIZ"==_?"H"==l_items_details.actualWidth?parseFloat($v("P442_CRUSH_HORIZ"))>parseFloat($v("P442_CRUSH_HGT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_HORIZ",0)):"W"==l_items_details.actualWidth?parseFloat($v("P442_CRUSH_HORIZ"))>parseFloat($v("P442_CRUSH_WDT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_HORIZ",0)):"D"==l_items_details.actualWidth&&parseFloat($v("P442_CRUSH_HORIZ"))>parseFloat($v("P442_CRUSH_DPT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_HORIZ",0)):"DEPTH"==_&&("H"==l_items_details.actualDepth?parseFloat($v("P442_CRUSH_DEPTH"))>parseFloat($v("P442_CRUSH_HGT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_DEPTH",0)):"W"==l_items_details.actualDepth?parseFloat($v("P442_CRUSH_DEPTH"))>parseFloat($v("P442_CRUSH_WDT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_DEPTH",0)):"D"==l_items_details.actualDepth&&parseFloat($v("P442_CRUSH_DEPTH"))>parseFloat($v("P442_CRUSH_DPT_PERC"))&&(alert(get_message("POGCR_MAX_CRUSH_VALIDATION")),$s("P442_CRUSH_DEPTH",0))))}catch(_){error_handling(_)}finally{logDebug("function : validate_crush; ","E")}}function setDefault(){try{logDebug("function : setDefault ; ","S"),(l_items_details=null!==sessionStorage.getItem("items_details")?JSON.parse(sessionStorage.getItem("items_details")):{}).dim_details={},console.log("items_details value from session",l_items_details),sessionStorage.removeItem("items_details");const P=l_items_details.MCapTopFacing;var _=!1;if("Y"!=l_items_details.g_multiselect&&"Y"!=l_items_details.g_ctrl_select||void 0===l_items_details.delete_details){auto_crush=l_items_details.ShelfAutoCrush,$s("P442_ITEM_EDIT_IND","Y"),$s("P442_ITEM_WIDTH",parseFloat((100*l_items_details.UW).toFixed(3))),$s("P442_ITEM_HEIGHT",parseFloat((100*l_items_details.UH).toFixed(3))),$s("P442_ITEM_DEPTH",parseFloat((100*l_items_details.UD).toFixed(3))),$s("P442_ITEM_CODE",l_items_details.Item),$s("P442_DIM_TYPE",l_items_details.DimT),$s("P442_BARCODE",l_items_details.Barcode),$s("P442_ITEM_DESC",l_items_details.Desc),$s("P442_LOCATION_ID",l_items_details.LocID),$s("P442_PEG_ID",l_items_details.PegID),$s("P442_PEG_SPREAD",l_items_details.PegSpread),$s("P442_PEG_PER_FACING",l_items_details.PegPerFacing),console.log("items_details.UnitperCase",l_items_details.UnitperCase,l_items_details.UnitperTray),$s("P442_UNIT_PER_CASE",l_items_details.UnitperCase),$s("P442_UNIT_PER_TRAY",l_items_details.UnitperTray),$s("P442_ITEM_BASE_HORIZ",l_items_details.BHoriz),$s("P442_ITEM_BASE_VERT",l_items_details.BVert),console.log("BaseD",l_items_details.BaseD),$s("P442_ITEM_BASE_DEPTH",l_items_details.BaseD),""!==l_items_details.Combine&&"N"!==l_items_details.Combine?$s("P442_ITEM_FIXED","N"):$s("P442_ITEM_FIXED",l_items_details.Fixed),$s("P442_CAP_STYLE",l_items_details.CapStyle),$s("P442_CAP_FACING",l_items_details.CapFacing),$s("P442_CAP_MERCH_STYLE",l_items_details.CapMerch),$s("P442_CAP_ORIENTATION",l_items_details.CapOrientaion),"0"!==l_items_details.CapStyle?$s("P442_CAP_HORZ",l_items_details.BHoriz):$s("P442_CAP_HORZ",l_items_details.CapHorz),$s("P442_CAP_DEPT",l_items_details.CapDepth),$s("P442_CAP_MAX_HIGH",l_items_details.CapMaxH),$s("P442_MAX_HIGH_CAP_STYLE",l_items_details.MaxHCapStyle),$s("P442_ITEM_ROTATION",l_items_details.Rotation),"number"==typeof l_items_details.Orientation&&(l_items_details.Orientation=String(l_items_details.Orientation)),$s("P442_ITEM_ORIENTATION",l_items_details.Orientation),$s("P442_MERCH_STYLE",l_items_details.MerchStyle),$s("P442_ITEM_COLOR",l_items_details.Color),$s("P442_ITEM_SUPPLIER",l_items_details.Supplier),$s("P442_BRAND",l_items_details.Brand),$s("P442_ITEM_GROUP",l_items_details.Group),$s("P442_ITEM_DEPT",l_items_details.Dept),void 0!==l_items_details.Class&&""!=l_items_details.Class&&null!=l_items_details.Class&&"null"!=l_items_details.Class&&$s("P442_CLASS",l_items_details.Class.replace(/\//g,"-")),$s("P442_SUBCLASS",l_items_details.SubClass),$s("P442_STD_UOM",l_items_details.StdUOM),$s("P442_ITEM_SIZE_DESC",l_items_details.SizeDesc),$s("P442_PRICE",l_items_details.Price),$s("P442_COST",l_items_details.Cost),$s("P442_DAYS_OF_SUPPLY",l_items_details.DaysOfSupply),$s("P442_REG_MOVEMENT",l_items_details.RegMovement),$s("P442_MOVEMENT_BASIS",l_items_details.MoveBasis),$s("P442_MAX_V_FACINGS",-1==l_items_details.MVertFacings?"":l_items_details.MVertFacings),$s("P442_MAX_H_FACINGS",-1==l_items_details.MHorizFacings?"":l_items_details.MHorizFacings),$s("P442_MAX_D_FACINGS",-1==l_items_details.MDepthFacings?"":l_items_details.MDepthFacings),$s("P442_POG_MAX_V_FACINGS",0==nvl(l_items_details.MPogVertFacings)?"":l_items_details.MPogVertFacings),$s("P442_POG_MAX_H_FACINGS",0==nvl(l_items_details.MPogHorizFacings)?"":l_items_details.MPogHorizFacings),$s("P442_POG_MAX_D_FACINGS",0==nvl(l_items_details.MPogDepthFacings)?"":l_items_details.MPogDepthFacings),$s("P442_CRUSH_WDT_PERC",l_items_details.CWPerc),$s("P442_CRUSH_HGT_PERC",l_items_details.CHPerc),$s("P442_CRUSH_DPT_PERC",l_items_details.CDPerc);var e,[s,a,t,l,i,d]=get_new_orientation_dim($v("P442_ITEM_ORIENTATION"),l_items_details.OW,l_items_details.OH,l_items_details.OD);"W"==i&&"Y"==l_items_details.MHorizCrushed||"H"==i&&"Y"==l_items_details.MVertCrushed||"D"==i&&"Y"==l_items_details.MDepthCrushed?$("#P442_CRUSH_HORIZ_CONTAINER .t-Form-itemText--post").removeClass("u-hidden").addClass("textdesign"):$("#P442_CRUSH_HORIZ_CONTAINER .t-Form-itemText--post").removeClass("textdesign").addClass("u-hidden"),"W"==l&&"Y"==l_items_details.MHorizCrushed||"H"==l&&"Y"==l_items_details.MVertCrushed||"D"==l&&"Y"==l_items_details.MDepthCrushed?$("#P442_CRUSH_VERT_CONTAINER .t-Form-itemText--post").removeClass("u-hidden").addClass("textdesign"):$("#P442_CRUSH_VERT_CONTAINER .t-Form-itemText--post").removeClass("textdesign").addClass("u-hidden"),"W"==d&&"Y"==l_items_details.MHorizCrushed||"H"==d&&"Y"==l_items_details.MVertCrushed||"D"==d&&"Y"==l_items_details.MDepthCrushed?$("#P442_CRUSH_DEPTH_CONTAINER .t-Form-itemText--post").removeClass("u-hidden").addClass("textdesign"):$("#P442_CRUSH_DEPTH_CONTAINER .t-Form-itemText--post").removeClass("textdesign").addClass("u-hidden"),$s("P442_ITEM_CONTAIN",l_items_details.ItemContain),"W"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*l_items_details.CnW).toFixed(2)):"H"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*l_items_details.CnH).toFixed(2)):"D"==$v("P442_ITEM_CONTAIN")&&$s("P442_CONTAIN_VAL",(100*l_items_details.CnD).toFixed(2)),$s("P442_NESTING",l_items_details.ItemNesting),"W"==$v("P442_NESTING")?$s("P442_NESTING_VAL",(100*l_items_details.NW).toFixed(2)):"H"==$v("P442_NESTING")?$s("P442_NESTING_VAL",(100*l_items_details.NH).toFixed(2)):"D"==$v("P442_NESTING")&&$s("P442_NESTING_VAL",(100*l_items_details.ND).toFixed(2)),$("#P442_NESTING_VAL").addClass("apex_disabled"),$("#P442_CONTAIN_VAL").addClass("apex_disabled"),$s("P442_PRODUCT_IS_CONT",l_items_details.IsContainer),$("#P442_UNIT_CAPACITY").addClass("apex_disabled"),"0"==$v("P442_MERCH_STYLE")||"3"==$v("P442_MERCH_STYLE")?($("#P442_UNIT_PER_CASE_CONTAINER").hide(),$("#P442_UNIT_PER_TRAY_CONTAINER").hide()):"1"==$v("P442_MERCH_STYLE")?($("#P442_UNIT_PER_TRAY_CONTAINER").show(),$("#P442_UNIT_PER_TRAY").addClass("apex_disabled")):($("#P442_UNIT_PER_CASE_CONTAINER").show(),$("#P442_UNIT_PER_CASE").addClass("apex_disabled")),$s("P442_BASKET_FACTOR",parseFloat((100*l_items_details.BsktFactor).toFixed(3))),$s("P442_ITEM_OVERHANG",parseFloat((100*l_items_details.OverHang).toFixed(3))),$s("P442_ITEM_HORIZ_GAP",parseFloat((100*l_items_details.HorizGap).toFixed(3))),$s("P442_ITEM_VERT_GAP",parseFloat((100*l_items_details.VertGap).toFixed(3))),$s("P442_CASE_WIDTH",parseFloat((100*l_items_details.CW).toFixed(3))),$s("P442_CASE_HGT",parseFloat((100*l_items_details.CH).toFixed(3))),$s("P442_CASE_DEPTH",parseFloat((100*l_items_details.CD).toFixed(3))),$s("P442_TRAY_WIDTH",parseFloat((100*l_items_details.TW).toFixed(3))),$s("P442_TRAY_HGT",parseFloat((100*l_items_details.TH).toFixed(3))),$s("P442_TRAY_DEPTH",parseFloat((100*l_items_details.TD).toFixed(3))),$s("P442_DISP_WIDTH",parseFloat((100*l_items_details.DW).toFixed(3))),$s("P442_DISP_HGT",parseFloat((100*l_items_details.DH).toFixed(3))),$s("P442_DISP_DEPTH",parseFloat((100*l_items_details.DD).toFixed(3))),$s("P442_ITEM_QTY",l_items_details.Quantity),$("#P442_ITEM_WIDTH").addClass("apex_disabled"),$("#P442_ITEM_HEIGHT").addClass("apex_disabled"),$("#P442_ITEM_DEPTH").addClass("apex_disabled"),$("#P442_CRUSH_WDT_PERC").addClass("apex_disabled"),$("#P442_CRUSH_HGT_PERC").addClass("apex_disabled"),$("#P442_CRUSH_DPT_PERC").addClass("apex_disabled"),$("#P442_CASE_WIDTH").addClass("apex_disabled"),$("#P442_CASE_HGT").addClass("apex_disabled"),$("#P442_CASE_DEPTH").addClass("apex_disabled"),$("#P442_TRAY_WIDTH").addClass("apex_disabled"),$("#P442_TRAY_HGT").addClass("apex_disabled"),$("#P442_TRAY_DEPTH").addClass("apex_disabled"),$("#P442_DISP_WIDTH").addClass("apex_disabled"),$("#P442_DISP_HGT").addClass("apex_disabled"),$("#P442_DISP_DEPTH").addClass("apex_disabled"),"BASKET"==l_items_details.CType?("F"==l_items_details.BsktFill||"T"==l_items_details.BsktFill?$("#P442_ITEM_QTY").addClass("apex_disabled"):$("#P442_ITEM_QTY").removeClass("apex_disabled"),$("#P442_PEG_ID_CONTAINER").hide(),$("#P442_PEG_SPREAD_CONTAINER").hide(),$("#P442_PEG_PER_FACING_CONTAINER").hide(),$("#P442_ITEM_FIXED_CONTAINER").hide(),$("#P442_ITEM_ROTATION_CONTAINER").hide(),$("#P442_CAP_STYLE_CONTAINER").hide(),$("#P442_CAP_MAX_HIGH_CONTAINER").hide(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").hide(),$("#P442_ITEM_QTY_CONTAINER").show(),$("#base_region").hide(),$("#others_region").hide(),$("#capDtls").hide()):"CHEST"==l_items_details.CType||"PALLET"==l_items_details.CType?($("#P442_PEG_ID_CONTAINER").show(),$("#P442_PEG_SPREAD_CONTAINER").show(),$("#P442_PEG_PER_FACING_CONTAINER").show(),$("#P442_ITEM_FIXED_CONTAINER").show(),$("#P442_ITEM_ROTATION_CONTAINER").show(),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show(),$("#P442_ITEM_QTY_CONTAINER").hide(),$("#P442_CAP_STYLE").addClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").addClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").addClass("apex_disabled"),$("#P442_ITEM_FIXED").addClass("apex_disabled"),"PALLET"==l_items_details.CType&&$("#P442_ITEM_BASE_VERT").addClass("apex_disabled"),$("#P442_ITEM_BASE_DEPTH").removeClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").removeClass("apex_disabled"),$("#P442_ITEM_ROTATION").removeClass("apex_disabled"),$("#base_region").show(),$("#others_region").show(),"CHEST"==l_items_details.CType?$("#crush_region").show():$("#crush_region").hide(),$("#capDtls").hide()):"HANGINGBAR"==l_items_details.CType?($("#P442_PEG_ID_CONTAINER").show(),$("#P442_PEG_SPREAD_CONTAINER").show(),$("#P442_PEG_PER_FACING_CONTAINER").show(),$("#P442_ITEM_FIXED_CONTAINER").show(),""!==l_items_details.Combine&&"N"!==l_items_details.Combine?$("#P442_ITEM_FIXED").addClass("apex_disabled"):$("#P442_ITEM_FIXED").removeClass("apex_disabled"),$("#P442_ITEM_ROTATION_CONTAINER").show(),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show(),$("#P442_ITEM_QTY_CONTAINER").hide(),$("#P442_CAP_STYLE").addClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").addClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").addClass("apex_disabled"),$("#P442_ITEM_BASE_VERT").addClass("apex_disabled"),$("#P442_ITEM_BASE_DEPTH").removeClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").removeClass("apex_disabled"),$("#P442_ITEM_ROTATION").addClass("apex_disabled"),$("#base_region").show(),$("#others_region").show(),$("#crush_region").show(),$("#capDtls").hide()):"ROD"==l_items_details.CType?($("#P442_PEG_ID_CONTAINER").show(),$("#P442_PEG_SPREAD_CONTAINER").show(),$("#P442_PEG_PER_FACING_CONTAINER").show(),$("#P442_ITEM_FIXED_CONTAINER").show(),$("#P442_ITEM_ROTATION_CONTAINER").show(),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show(),$("#P442_ITEM_QTY_CONTAINER").hide(),$("#P442_CAP_STYLE").addClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").addClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").addClass("apex_disabled"),$("#P442_ITEM_FIXED").removeClass("apex_disabled"),$("#P442_ITEM_BASE_VERT").addClass("apex_disabled"),$("#P442_ITEM_BASE_DEPTH").removeClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").addClass("apex_disabled"),$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),$("#P442_CRUSH_VERT").removeClass("apex_disabled"),$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$("#P442_ITEM_ROTATION").addClass("apex_disabled"),$("#base_region").show(),$("#others_region").show(),$("#crush_region").show(),$("#capDtls").hide()):"PEGBOARD"==l_items_details.CType?($("#P442_PEG_ID_CONTAINER").show(),$("#P442_PEG_SPREAD_CONTAINER").show(),$("#P442_PEG_PER_FACING_CONTAINER").show(),$("#P442_ITEM_FIXED_CONTAINER").show(),$("#P442_ITEM_ROTATION_CONTAINER").show(),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_FACING_CONTAINER").show(),$("#P442_CAP_MERCH_STYLE_CONTAINER").show(),$("#P442_CAP_ORIENTATION_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show(),$("#P442_ITEM_QTY_CONTAINER").hide(),$("#P442_CAP_STYLE").addClass("apex_disabled"),$("#P442_CAP_FACING").addClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").addClass("apex_disabled"),$("#P442_CAP_ORIENTATION").addClass("apex_disabled"),$("#P442_CAP_DEPT").addClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").addClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").addClass("apex_disabled"),$("#P442_ITEM_FIXED").addClass("apex_disabled"),$("#P442_ITEM_BASE_VERT").removeClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").removeClass("apex_disabled"),$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),$("#P442_CRUSH_VERT").addClass("apex_disabled"),$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$("#P442_ITEM_ROTATION").addClass("apex_disabled"),$("#base_region").show(),$("#others_region").show(),$("#crush_region").show(),$("#capDtls").hide()):($("#P442_PEG_ID_CONTAINER").show(),$("#P442_PEG_SPREAD_CONTAINER").show(),$("#P442_PEG_PER_FACING_CONTAINER").show(),$("#P442_ITEM_FIXED_CONTAINER").show(),$("#P442_ITEM_ROTATION_CONTAINER").show(),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_FACING_CONTAINER").show(),$("#P442_CAP_MERCH_STYLE_CONTAINER").show(),$("#P442_CAP_ORIENTATION_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show(),$("#P442_ITEM_QTY_CONTAINER").hide(),$("#P442_PRODUCT_IS_CONT").removeClass("apex_disabled"),$("#P442_LOCATION_ID").removeClass("apex_disabled"),$("#P442_PEG_PER_FACING").removeClass("apex_disabled"),"Y"==l_items_details.g_carpark_item_flag?($("#P442_CAP_STYLE").addClass("apex_disabled"),$("#P442_CAP_FACING").addClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").addClass("apex_disabled"),$("#P442_CAP_ORIENTATION").addClass("apex_disabled"),$("#P442_CAP_DEPT").addClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").addClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").addClass("apex_disabled"),$("#P442_ITEM_FIXED").addClass("apex_disabled"),$("#P442_ITEM_BASE_VERT").addClass("apex_disabled"),$("#P442_ITEM_BASE_DEPTH").addClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").addClass("apex_disabled"),$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),$("#P442_CRUSH_VERT").addClass("apex_disabled"),$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$("#P442_ITEM_ROTATION").addClass("apex_disabled"),$("#P442_NESTING").addClass("apex_disabled"),$("#P442_ITEM_CONTAIN").addClass("apex_disabled"),$("#P442_MERCH_STYLE").addClass("apex_disabled")):($("#P442_CAP_STYLE").removeClass("apex_disabled"),$("#P442_CAP_FACING").removeClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").removeClass("apex_disabled"),$("#P442_CAP_ORIENTATION").removeClass("apex_disabled"),$("#P442_CAP_DEPT").removeClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").removeClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").removeClass("apex_disabled"),""!==l_items_details.Combine&&"N"!==l_items_details.Combine?$("#P442_ITEM_FIXED").addClass("apex_disabled"):$("#P442_ITEM_FIXED").removeClass("apex_disabled"),$("#P442_ITEM_BASE_VERT").removeClass("apex_disabled"),$("#P442_ITEM_BASE_DEPTH").removeClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").removeClass("apex_disabled"),$("#P442_CRUSH_HORIZ").removeClass("apex_disabled"),$("#P442_CRUSH_VERT").removeClass("apex_disabled"),$("#P442_CRUSH_DEPTH").removeClass("apex_disabled"),$("#P442_ITEM_ROTATION").removeClass("apex_disabled"),$("#P442_NESTING").removeClass("apex_disabled"),$("#P442_ITEM_CONTAIN").removeClass("apex_disabled"),$("#P442_ITEM_ORIENTATION").removeClass("apex_disabled"),$("#P442_MERCH_STYLE").removeClass("apex_disabled"),"0"!==l_items_details.CapStyle&&""==l_items_details.ItemNesting?($s("P442_NESTING",""),$("#P442_NESTING").addClass("apex_disabled"),$("#P442_CAP_FACING").removeClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").removeClass("apex_disabled"),$("#P442_CAP_ORIENTATION").removeClass("apex_disabled"),$("#P442_CAP_DEPT").removeClass("apex_disabled")):"0"==l_items_details.CapStyle&&""!==l_items_details.ItemNesting&&($("#P442_NESTING").removeClass("apex_disabled"),$s("P442_CAP_FACING",0),$s("P442_CAP_HORZ",0),$s("P442_CAP_DEPT",0),$s("P442_CAP_MERCH_STYLE",""),$s("P442_CAP_ORIENTATION",""),$("#P442_CAP_FACING").addClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").addClass("apex_disabled"),$("#P442_CAP_ORIENTATION").addClass("apex_disabled"),$("#P442_CAP_DEPT").addClass("apex_disabled"))),$("#base_region").show(),$("#others_region").show(),$("#crush_region").show(),$("#capDtls").show()),void 0!==l_items_details.BottomObjID&&""!==l_items_details.BottomObjID||void 0!==l_items_details.TopObjID&&""!==l_items_details.TopObjID?($("#P442_ITEM_BASE_HORIZ").addClass("apex_disabled"),$("#P442_ITEM_ORIENTATION").addClass("apex_disabled")):"N"==l_items_details.g_carpark_item_flag&&($("#P442_ITEM_BASE_HORIZ").removeClass("apex_disabled"),$("#P442_ITEM_ORIENTATION").removeClass("apex_disabled")),"Y"==l_items_details.Delist?($("#P442_ITEM_COLOR").addClass("apex_disabled"),$("#P442_ITEM_COLOR_PICKER").addClass("apex_disabled"),$("#CUSTOM_COLOR_ITEM").addClass("apex_disabled")):($("#P442_ITEM_COLOR").removeClass("apex_disabled"),$("#P442_ITEM_COLOR_PICKER").removeClass("apex_disabled"),$("#CUSTOM_COLOR_ITEM").removeClass("apex_disabled")),$("#SR_position_tab_tab a").trigger("click"),l_items_details.DepthAutoCrushed="N",l_items_details.VertAutoCrushed="N",l_items_details.HorizAutoCrushed="N",(l_items_details.CrushD>0&&"D"==l_items_details.actualDepth||l_items_details.CrushVert>0&&"H"==l_items_details.actualDepth||l_items_details.CrushHoriz>0&&"W"==l_items_details.actualDepth)&&"N"==l_items_details.MDepthCrushed&&(l_items_details.DepthAutoCrushed="Y"),(l_items_details.CrushD>0&&"D"==l_items_details.actualHeight||l_items_details.CrushVert>0&&"H"==l_items_details.actualHeight||l_items_details.CrushHoriz>0&&"W"==l_items_details.actualHeight)&&"N"==l_items_details.MVertCrushed&&(l_items_details.VertAutoCrushed="Y"),(l_items_details.CrushD>0&&"D"==l_items_details.actualWidth||l_items_details.CrushVert>0&&"H"==l_items_details.actualWidth||l_items_details.CrushHoriz>0&&"W"==l_items_details.actualWidth)&&"N"==l_items_details.MHorizCrushed&&(l_items_details.HorizAutoCrushed="Y"),"W"==l_items_details.actualHeight&&0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&$("#P442_CRUSH_VERT").addClass("apex_disabled"),"H"==l_items_details.actualHeight&&0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&$("#P442_CRUSH_VERT").addClass("apex_disabled"),"D"==l_items_details.actualHeight&&0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&$("#P442_CRUSH_VERT").addClass("apex_disabled"),"W"==l_items_details.actualWidth&&0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),"H"==l_items_details.actualWidth&&0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),"D"==l_items_details.actualWidth&&0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),"W"==l_items_details.actualDepth&&0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),"H"==l_items_details.actualDepth&&0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),"D"==l_items_details.actualDepth&&0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),l_items_details.OldOrientation=l_items_details.Orientation,l_items_details.OrientationChng="N",$("#P442_CRUSH_HORIZ_CONTAINER .t-Form-itemText--post").removeClass("textdesign").addClass("u-hidden"),$("#P442_CRUSH_VERT_CONTAINER .t-Form-itemText--post").removeClass("textdesign").addClass("u-hidden"),$("#P442_CRUSH_DEPTH_CONTAINER .t-Form-itemText--post").removeClass("textdesign").addClass("u-hidden"),("H"==l_items_details.actualHeight&&l_items_details.CrushVert>0||"W"==l_items_details.actualHeight&&l_items_details.CrushHoriz>0||"D"==l_items_details.actualHeight&&l_items_details.CrushD>0)&&"Y"==l_items_details.MVertCrushed&&$("#P442_CRUSH_VERT_CONTAINER .t-Form-itemText--post").removeClass("u-hidden").addClass("textdesign"),("H"==l_items_details.actualWidth&&l_items_details.CrushVert>0||"W"==l_items_details.actualWidth&&l_items_details.CrushHoriz>0||"D"==l_items_details.actualWidth&&l_items_details.CrushD>0)&&"Y"==l_items_details.MHorizCrushed&&$("#P442_CRUSH_HORIZ_CONTAINER .t-Form-itemText--post").removeClass("u-hidden").addClass("textdesign"),("H"==l_items_details.actualDepth&&l_items_details.CrushVert>0||"W"==l_items_details.actualDepth&&l_items_details.CrushHoriz>0||"D"==l_items_details.actualDepth&&l_items_details.CrushD>0)&&"Y"==l_items_details.MDepthCrushed&&$("#P442_CRUSH_DEPTH_CONTAINER .t-Form-itemText--post").removeClass("u-hidden").addClass("textdesign"),"H"==l_items_details.actualHeight?$s("P442_CRUSH_VERT",l_items_details.CrushVert):"W"==l_items_details.actualHeight?$s("P442_CRUSH_VERT",l_items_details.CrushHoriz):"D"==l_items_details.actualHeight?$s("P442_CRUSH_VERT",l_items_details.CrushD):$s("P442_CRUSH_VERT",0),"H"==l_items_details.actualWidth?$s("P442_CRUSH_HORIZ",l_items_details.CrushVert):"W"==l_items_details.actualWidth?$s("P442_CRUSH_HORIZ",l_items_details.CrushHoriz):"D"==l_items_details.actualWidth?$s("P442_CRUSH_HORIZ",l_items_details.CrushD):$s("P442_CRUSH_HORIZ",0),"H"==l_items_details.actualDepth?$s("P442_CRUSH_DEPTH",l_items_details.CrushVert):"W"==l_items_details.actualDepth?$s("P442_CRUSH_DEPTH",l_items_details.CrushHoriz):"D"==l_items_details.actualDepth?$s("P442_CRUSH_DEPTH",l_items_details.CrushD):$s("P442_CRUSH_DEPTH",0),"0"==$v("P442_MERCH_STYLE")?e="U":"1"==$v("P442_MERCH_STYLE")?e="T":"2"==$v("P442_MERCH_STYLE")?e="C":"3"==$v("P442_MERCH_STYLE")&&(e="D"),logDebug("function : item region image loading","S"),apex.server.process("dummy",{pageItems:"#P442_ITEM_CODE"},{dataType:"text",async:!1,complete:function(_){$("#front .t-Region-body img").remove(),$("#left .t-Region-body img").remove(),$("#top .t-Region-body img").remove(),$("#back .t-Region-body img").remove(),$("#right .t-Region-body img").remove(),$("#bottom .t-Region-body img").remove(),$("#front .t-Region-body").append('<img src="f?p=105:0:'+$v("pInstance")+":APPLICATION_PROCESS=GET_ITEM_IMAGE:NO::AI_ITEM,AI_IMG_TYPE,AI_IMG_DIM,AI_RANDOM_STRING:"+$v("P442_ITEM_CODE")+",1,"+e+","+(new Date).getTime()+'" alt="No Image" >'),$("#left .t-Region-body").append('<img src="f?p=105:0:'+$v("pInstance")+":APPLICATION_PROCESS=GET_ITEM_IMAGE:NO::AI_ITEM,AI_IMG_TYPE,AI_IMG_DIM,AI_RANDOM_STRING:"+$v("P442_ITEM_CODE")+",2,"+e+","+(new Date).getTime()+'" alt="No Image" >'),$("#top .t-Region-body").append('<img src="f?p=105:0:'+$v("pInstance")+":APPLICATION_PROCESS=GET_ITEM_IMAGE:NO::AI_ITEM,AI_IMG_TYPE,AI_IMG_DIM,AI_RANDOM_STRING:"+$v("P442_ITEM_CODE")+",3,"+e+","+(new Date).getTime()+'" alt="No Image" >'),$("#back .t-Region-body").append('<img src="f?p=105:0:'+$v("pInstance")+":APPLICATION_PROCESS=GET_ITEM_IMAGE:NO::AI_ITEM,AI_IMG_TYPE,AI_IMG_DIM,AI_RANDOM_STRING:"+$v("P442_ITEM_CODE")+",7,"+e+","+(new Date).getTime()+'" alt="No Image" >'),$("#right .t-Region-body").append('<img src="f?p=105:0:'+$v("pInstance")+":APPLICATION_PROCESS=GET_ITEM_IMAGE:NO::AI_ITEM,AI_IMG_TYPE,AI_IMG_DIM,AI_RANDOM_STRING:"+$v("P442_ITEM_CODE")+",8,"+e+","+(new Date).getTime()+'" alt="No Image" >'),$("#bottom .t-Region-body").append('<img src="f?p=105:0:'+$v("pInstance")+":APPLICATION_PROCESS=GET_ITEM_IMAGE:NO::AI_ITEM,AI_IMG_TYPE,AI_IMG_DIM,AI_RANDOM_STRING:"+$v("P442_ITEM_CODE")+",9,"+e+","+(new Date).getTime()+'" alt="No Image" >'),document.querySelector("#live_images").querySelectorAll("img").forEach((function(_){_.onerror=function(){this.style.display="none",$(this).parent().css("height","26vh")}})),"0"==$v("P442_CAP_STYLE")&&($("#P442_CAP_FACING").addClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").addClass("apex_disabled"),$("#P442_CAP_ORIENTATION").addClass("apex_disabled"),$("#P442_CAP_DEPT").addClass("apex_disabled")),apex.item("P442_ITEM_BASE_HORIZ").setFocus()}})}else{if(_=checkValueConsistency(l_items_details.delete_details,"CType","SHELF"),$s("P442_ITEM_CODE","Mixed"),$s("P442_BARCODE","Mixed"),$s("P442_ITEM_DESC","Mixed"),$s("P442_LOCATION_ID",""),$s("P442_ITEM_WIDTH",0),$s("P442_ITEM_HEIGHT",0),$s("P442_ITEM_DEPTH",0),$s("P442_CRUSH_WDT_PERC",0),$s("P442_CRUSH_HGT_PERC",0),$s("P442_CRUSH_DPT_PERC",0),$s("P442_CASE_WIDTH",0),$s("P442_CASE_HGT",0),$s("P442_CASE_DEPTH",0),$s("P442_TRAY_WIDTH",0),$s("P442_TRAY_HGT",0),$s("P442_TRAY_DEPTH",0),$s("P442_DISP_WIDTH",0),$s("P442_DISP_HGT",0),$s("P442_DISP_DEPTH",0),$s("P442_ITEM_BASE_VERT",1),$s("P442_ITEM_BASE_DEPTH",1),$s("P442_ITEM_BASE_HORIZ",1),$s("P442_CRUSH_HORIZ",0),$s("P442_CRUSH_VERT",0),$s("P442_CRUSH_DEPTH",0),$s("P442_ITEM_ROTATION",0),$s("P442_ITEM_CONTAIN",""),$s("P442_PRICE",""),$s("P442_COST",""),$s("P442_REG_MOVEMENT",""),$s("P442_MOVEMENT_BASIS",""),$s("P442_BASKET_FACTOR",0),$s("P442_ITEM_OVERHANG",0),$s("P442_ITEM_HORIZ_GAP",0),$s("P442_ITEM_VERT_GAP",0),$s("P442_PRODUCT_IS_CONT","N"),$s("P442_CONTAIN_VAL",0),$s("P442_PEG_PER_FACING",""),$s("P442_BRAND",""),$s("P442_ITEM_GROUP",""),$s("P442_ITEM_DEPT",""),$s("P442_CLASS",""),$s("P442_SUBCLASS",""),$s("P442_STD_UOM",""),$s("P442_ITEM_SIZE_DESC",""),$s("P442_ITEM_SUPPLIER",""),setIconForInconsistentTag(l_items_details.delete_details,"MerchStyle","P442_MERCH_STYLE"),setIconForInconsistentTag(l_items_details.delete_details,"Orientation","P442_ITEM_ORIENTATION"),setIconForInconsistentTag(l_items_details.delete_details,"Fixed","P442_ITEM_FIXED"),setIconForInconsistentTag(l_items_details.delete_details,"PegID","P442_PEG_ID"),setIconForInconsistentTag(l_items_details.delete_details,"PegSpread","P442_PEG_SPREAD"),setIconForInconsistentTag(l_items_details.delete_details,"Color","P442_ITEM_COLOR",""),setIconForInconsistentTag(l_items_details.delete_details,"MPogHorizFacings","P442_POG_MAX_H_FACINGS",""),setIconForInconsistentTag(l_items_details.delete_details,"MPogVertFacings","P442_POG_MAX_V_FACINGS",""),setIconForInconsistentTag(l_items_details.delete_details,"MPogDepthFacings","P442_POG_MAX_D_FACINGS",""),$s("P442_UNIT_CAPACITY",""),$s("P442_UNIT_PER_CASE",""),$s("P442_UNIT_PER_TRAY",""),$("#P442_ITEM_WIDTH").addClass("apex_disabled"),$("#P442_ITEM_HEIGHT").addClass("apex_disabled"),$("#P442_ITEM_DEPTH").addClass("apex_disabled"),$("#P442_CRUSH_WDT_PERC").addClass("apex_disabled"),$("#P442_CRUSH_HGT_PERC").addClass("apex_disabled"),$("#P442_CRUSH_DPT_PERC").addClass("apex_disabled"),$("#P442_CASE_WIDTH").addClass("apex_disabled"),$("#P442_CASE_HGT").addClass("apex_disabled"),$("#P442_CASE_DEPTH").addClass("apex_disabled"),$("#P442_TRAY_WIDTH").addClass("apex_disabled"),$("#P442_TRAY_HGT").addClass("apex_disabled"),$("#P442_TRAY_DEPTH").addClass("apex_disabled"),$("#P442_DISP_WIDTH").addClass("apex_disabled"),$("#P442_DISP_HGT").addClass("apex_disabled"),$("#P442_DISP_DEPTH").addClass("apex_disabled"),$("#P442_PEG_ID_CONTAINER").show(),$("#P442_PEG_SPREAD_CONTAINER").show(),$("#P442_PEG_PER_FACING_CONTAINER").show(),$("#P442_ITEM_FIXED_CONTAINER").show(),$("#P442_ITEM_ROTATION_CONTAINER").show(),$("#P442_ITEM_QTY_CONTAINER").hide(),$("#P442_AUTO_PLACING_CONTAINER").hide(),$("#P442_ITEM_FIXED").removeClass("apex_disabled"),$("#P442_ITEM_BASE_VERT").addClass("apex_disabled"),$("#P442_ITEM_BASE_DEPTH").addClass("apex_disabled"),$("#P442_ITEM_BASE_HORIZ").addClass("apex_disabled"),0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&$("#P442_CRUSH_HORIZ").addClass("apex_disabled"),0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&$("#P442_CRUSH_VERT").addClass("apex_disabled"),0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&$("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$("#P442_ITEM_ROTATION").addClass("apex_disabled"),$("#P442_ITEM_CONTAIN").addClass("apex_disabled"),$("#P442_ITEM_ORIENTATION").removeClass("apex_disabled"),$("#P442_MERCH_STYLE").removeClass("apex_disabled"),$("#P442_PRICE").addClass("apex_disabled"),$("#P442_COST").addClass("apex_disabled"),$("#P442_REG_MOVEMENT").addClass("apex_disabled"),$("#P442_MOVEMENT_BASIS").addClass("apex_disabled"),$("#P442_BASKET_FACTOR").addClass("apex_disabled"),$("#P442_ITEM_OVERHANG").addClass("apex_disabled"),$("#P442_ITEM_HORIZ_GAP").addClass("apex_disabled"),$("#P442_ITEM_VERT_GAP").addClass("apex_disabled"),$("#P442_PRODUCT_IS_CONT").addClass("apex_disabled"),$("#P442_CONTAIN_VAL").addClass("apex_disabled"),$("#P442_LOCATION_ID").addClass("apex_disabled"),$("#P442_PEG_PER_FACING").addClass("apex_disabled"),$("#P442_UNIT_CAPACITY").addClass("apex_disabled"),$("#P442_UNIT_PER_CASE").addClass("apex_disabled"),$("#P442_UNIT_PER_TRAY").addClass("apex_disabled"),$("#DELETE_ITEM").hide(),$("#base_region").show(),$("#others_region").show(),$("#crush_region").show(),$("#capDtls").show(),$("#SR_position_tab_tab a").trigger("click"),$("#P442_CRUSH_HORIZ_CONTAINER .t-Form-itemText--post").addClass("u-hidden"),$("#P442_CRUSH_VERT_CONTAINER .t-Form-itemText--post").addClass("u-hidden"),$("#P442_CRUSH_DEPTH_CONTAINER .t-Form-itemText--post").addClass("u-hidden"),_){setIconForInconsistentTag(l_items_details.delete_details,"ItemNesting","P442_NESTING");const _=$v("P442_NESTING");"W"==_?setIconForInconsistentTag(l_items_details.delete_details,"NW","P442_NESTING_VAL",0):"H"==_?setIconForInconsistentTag(l_items_details.delete_details,"NH","P442_NESTING_VAL",0):"D"==_&&setIconForInconsistentTag(l_items_details.delete_details,"ND","P442_NESTING_VAL",0);const e=$v("P442_NESTING_VAL");0!==nvl(e)&&$s("P442_NESTING_VAL",(100*e).toFixed(2)),setIconForInconsistentTag(l_items_details.delete_details,"CapStyle","P442_CAP_STYLE",0);const s=$v("P442_CAP_STYLE");"0"==s?($s("P442_CAP_FACING",0),$s("P442_CAP_MERCH_STYLE",""),$s("P442_CAP_ORIENTATION",""),$s("P442_CAP_HORZ",0),$s("P442_CAP_DEPT",0)):(setIconForInconsistentTag(l_items_details.delete_details,"CapFacing","P442_CAP_FACING",0),setIconForInconsistentTag(l_items_details.delete_details,"CapMerch","P442_CAP_MERCH_STYLE"),setIconForInconsistentTag(l_items_details.delete_details,"CapOrientaion","P442_CAP_ORIENTATION"),setIconForInconsistentTag(l_items_details.delete_details,"0"!==s?"BHoriz":"CapHorz","P442_CAP_HORZ",0),setIconForInconsistentTag(l_items_details.delete_details,"CapDepth","P442_CAP_DEPT",0)),setIconForInconsistentTag(l_items_details.delete_details,"CapMaxH","P442_CAP_MAX_HIGH"),setIconForInconsistentTag(l_items_details.delete_details,"MaxHCapStyle","P442_MAX_HIGH_CAP_STYLE"),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_FACING_CONTAINER").show(),$("#P442_CAP_MERCH_STYLE_CONTAINER").show(),$("#P442_CAP_ORIENTATION_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show()}else $s("P442_NESTING",""),$s("P442_NESTING_VAL",0),$("#P442_NESTING").addClass("apex_disabled"),$("#P442_NESTING_VAL").addClass("apex_disabled"),$s("P442_CAP_STYLE",0),$s("P442_CAP_FACING",0),$s("P442_CAP_MERCH_STYLE",""),$s("P442_CAP_ORIENTATION",""),$s("P442_CAP_HORZ",0),$s("P442_CAP_DEPT",0),$("#P442_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_FACING_CONTAINER").show(),$("#P442_CAP_MERCH_STYLE_CONTAINER").show(),$("#P442_CAP_ORIENTATION_CONTAINER").show(),$("#P442_CAP_MAX_HIGH_CONTAINER").show(),$("#P442_MAX_HIGH_CAP_STYLE_CONTAINER").show(),$("#P442_CAP_STYLE").addClass("apex_disabled"),$("#P442_CAP_FACING").addClass("apex_disabled"),$("#P442_CAP_MERCH_STYLE").addClass("apex_disabled"),$("#P442_CAP_ORIENTATION").addClass("apex_disabled"),$("#P442_CAP_DEPT").addClass("apex_disabled"),$("#P442_CAP_MAX_HIGH").addClass("apex_disabled"),$("#P442_MAX_HIGH_CAP_STYLE").addClass("apex_disabled");apex.item("P442_CAP_STYLE").setFocus()}l_items_details.MCapTopFacing=P,$("body").on("keydown",(function(_){13==_.keyCode&&1!=$("#item_dim_details").dialog("isOpen")&&1!=$("#uploadImage").dialog("isOpen")&&(_.preventDefault(),$("#CREATE_ITEM").click())})),logDebug("function : setDefault ; ","E"),console.log(l_items_details)}catch(_){error_handling(_)}}function onchange_crush_horiz(_){try{logDebug("function : onchange_crush_horiz ; p_param"+_,"S"),"Y"!==l_items_details.g_multiselect?_?"W"==l_items_details.actualWidth?($("#P442_CRUSH_HORIZ").addClass("apex_disabled"),$s("P442_CRUSH_HORIZ",0)):"H"==l_items_details.actualWidth?($("#P442_CRUSH_VERT").addClass("apex_disabled"),$s("P442_CRUSH_VERT",0)):"D"==l_items_details.actualWidth&&($("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$s("P442_CRUSH_DEPTH",0)):"W"==l_items_details.actualWidth?$("#P442_CRUSH_HORIZ").removeClass("apex_disabled"):"H"==l_items_details.actualWidth?$("#P442_CRUSH_VERT").removeClass("apex_disabled"):"D"==l_items_details.actualWidth&&$("#P442_CRUSH_DEPTH").removeClass("apex_disabled"):($("#P442_CRUSH_HORIZ").removeClass("apex_disabled"),$("#P442_CRUSH_VERT").removeClass("apex_disabled"),$("#P442_CRUSH_DEPTH").removeClass("apex_disabled"),$s("P442_CRUSH_HORIZ",0),$s("P442_CRUSH_VERT",0),$s("P442_CRUSH_DEPTH",0)),logDebug("function : onchange_crush_horiz ; ","E")}catch(_){error_handling(_)}}function onchange_crush_vert(_){try{logDebug("function : onchange_crush_vert ; p_param"+_,"S"),_?"W"==l_items_details.actualHeight?$("#P442_CRUSH_HORIZ").removeClass("apex_disabled"):"H"==l_items_details.actualHeight?$("#P442_CRUSH_VERT").removeClass("apex_disabled"):"D"==l_items_details.actualHeight&&$("#P442_CRUSH_DEPTH").removeClass("apex_disabled"):"W"==l_items_details.actualHeight?($("#P442_CRUSH_HORIZ").addClass("apex_disabled"),$s("P442_CRUSH_HORIZ",0)):"H"==l_items_details.actualHeight?($("#P442_CRUSH_VERT").addClass("apex_disabled"),$s("P442_CRUSH_VERT",0)):"D"==l_items_details.actualHeight&&($("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$s("P442_CRUSH_DEPTH",0)),logDebug("function : onchange_crush_vert ; p_param"+_,"E")}catch(_){error_handling(_)}}function onchange_crush_depth(_){try{logDebug("function : onchange_crush_depth ; p_param"+_,"S"),_?"W"==l_items_details.actualDepth?$("#P442_CRUSH_HORIZ").removeClass("apex_disabled"):"H"==l_items_details.actualDepth?$("#P442_CRUSH_VERT").removeClass("apex_disabled"):"D"==l_items_details.actualDepth&&$("#P442_CRUSH_DEPTH").removeClass("apex_disabled"):"W"==l_items_details.actualDepth?($("#P442_CRUSH_HORIZ").addClass("apex_disabled"),$s("P442_CRUSH_HORIZ",0)):"H"==l_items_details.actualDepth?($("#P442_CRUSH_VERT").addClass("apex_disabled"),$s("P442_CRUSH_VERT",0)):"D"==l_items_details.actualDepth&&($("#P442_CRUSH_DEPTH").addClass("apex_disabled"),$s("P442_CRUSH_DEPTH",0)),logDebug("function : onchange_crush_depth ; p_param"+_,"E")}catch(_){error_handling(_)}}function nesting_cont_set_value(_){try{if(logDebug("function : nesting_cont_set_value ; p_param"+_,"S"),"NEST"==_){var e=isNaN(l_items_details.NW)?0:(100*nvl(l_items_details.NW)).toFixed(2),s=isNaN(l_items_details.NH)?0:(100*nvl(l_items_details.NH)).toFixed(2),a=isNaN(l_items_details.ND)?0:(100*nvl(l_items_details.ND)).toFixed(2);"W"==$v("P442_NESTING")?($s("P442_NESTING_VAL",e),$s("P442_CAP_STYLE",0),$("#P442_CAP_STYLE").addClass("apex_disabled")):"H"==$v("P442_NESTING")?($s("P442_NESTING_VAL",s),$s("P442_CAP_STYLE",0),$("#P442_CAP_STYLE").addClass("apex_disabled")):"D"==$v("P442_NESTING")?($s("P442_NESTING_VAL",a),$s("P442_CAP_STYLE",0),$("#P442_CAP_STYLE").addClass("apex_disabled")):($s("P442_NESTING_VAL",0),$("#P442_CAP_STYLE").removeClass("apex_disabled")),$("#P442_NESTING_VAL").addClass("apex_disabled")}else"W"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*l_items_details.CnW).toFixed(2)):"H"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*l_items_details.CnH).toFixed(2)):"D"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*l_items_details.CnD).toFixed(2)):$s("P442_CONTAIN_VAL",0),$("#P442_CONTAIN_VAL").addClass("apex_disabled");logDebug("function : nesting_cont_set_value ; p_param"+_,"E")}catch(_){error_handling(_)}}async function disable_enable_crush(){try{if(logDebug("function : disable_enable_crush ; ","S"),"N"==l_items_details.g_multiselect&&"N"==l_items_details.g_ctrl_select){var[_,e,s,a,t,l]=get_new_orientation_dim($v("P442_ITEM_ORIENTATION"),l_items_details.OW,l_items_details.OH,l_items_details.OD);await get_orientation(l_items_details.ModuleIndex,l_items_details.ShelfIndex,$v("P442_ITEM_ORIENTATION"));$("#P442_CRUSH_VERT").removeClass("apex_disabled"),$("#P442_CRUSH_HORIZ").removeClass("apex_disabled"),$("#P442_CRUSH_DEPTH").removeClass("apex_disabled"),"W"==l_items_details.actualHeight&&0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&($s("P442_CRUSH_HORIZ",0),$("#P442_CRUSH_HORIZ").addClass("apex_disabled")),"H"==l_items_details.actualHeight&&0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&($s("P442_CRUSH_VERT",0),$("#P442_CRUSH_VERT").addClass("apex_disabled")),"D"==l_items_details.actualHeight&&0==parseFloat($v("P442_CRUSH_HGT_PERC"))&&($s("P442_CRUSH_DEPTH",0),$("#P442_CRUSH_DEPTH").addClass("apex_disabled")),"W"==l_items_details.actualWidth&&0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&($s("P442_CRUSH_HORIZ",0),$("#P442_CRUSH_HORIZ").addClass("apex_disabled")),"H"==l_items_details.actualWidth&&0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&($s("P442_CRUSH_VERT",0),$("#P442_CRUSH_VERT").addClass("apex_disabled")),"D"==l_items_details.actualWidth&&0==parseFloat($v("P442_CRUSH_WDT_PERC"))&&($s("P442_CRUSH_DEPTH",0),$("#P442_CRUSH_DEPTH").addClass("apex_disabled")),"W"==l_items_details.actualDepth&&0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&($s("P442_CRUSH_HORIZ",0),$("#P442_CRUSH_HORIZ").addClass("apex_disabled")),"H"==l_items_details.actualDepth&&0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&($s("P442_CRUSH_VERT",0),$("#P442_CRUSH_VERT").addClass("apex_disabled")),"D"==l_items_details.actualDepth&&0==parseFloat($v("P442_CRUSH_DPT_PERC"))&&($s("P442_CRUSH_DEPTH",0),$("#P442_CRUSH_DEPTH").addClass("apex_disabled"))}logDebug("function : disable_enable_crush ; ","E")}catch(_){error_handling(_)}}function dimention_req_ind(){try{logDebug("function : dimention_req_ind","S");var _=apex.region("ig_item_dim").widget().interactiveGrid("getViews","grid").model;_.forEach((function(e){if("Y"==_.getValue(e,"REQUIRED_IND")){var s=_.getValue(e,"CODE");$("#ig_item_dim [data-id="+s+"] td:first").addClass("a-Icon icon-asterisk")}})),logDebug("function : dimention_req_ind","E")}catch(_){error_handling(_)}}function invoke_save_item_dim(){try{logDebug("function : invoke_save_item_dim","S"),dim_edit_done="Y";var _=apex.region("ig_item_dim").widget().interactiveGrid("getViews","grid").model;_.forEach((function(e){var s=_.getValue(e,"CODE");console.log("code",s,_.getValue(e,"WIDTH"),_.getValue(e,"HEIGHT")),("0"==$v("P442_MERCH_STYLE")&&"U"==s||"1"==$v("P442_MERCH_STYLE")&&"T"==s||"3"==$v("P442_MERCH_STYLE")&&"D"==s||"2"==$v("P442_MERCH_STYLE")&&"C"==s)&&($s("P442_SELECTED_WIDTH",_.getValue(e,"WIDTH")),$s("P442_SELECTED_HEIGHT",_.getValue(e,"HEIGHT")),$s("P442_SELECTED_DEPTH",_.getValue(e,"DEPTH")))})),logDebug("function : invoke_save_item_dim","E")}catch(_){error_handling(_)}}async function save_item_master(){logDebug("function : save_item_master","S");try{l_items_details.UWchgInd="N",l_items_details.UHchgInd="N",l_items_details.UDchgInd="N",l_items_details.DWchgInd="N",l_items_details.DHchgInd="N",l_items_details.DDchgInd="N",l_items_details.CWchgInd="N",l_items_details.CHchgInd="N",l_items_details.CDchgInd="N",l_items_details.RWchgInd="N",l_items_details.RHchgInd="N",l_items_details.RDchgInd="N",l_items_details.TWchgInd="N",l_items_details.THchgInd="N",l_items_details.TDchgInd="N",l_items_details.OWchgInd="N",l_items_details.OHchgInd="N",l_items_details.ODchgInd="N",l_items_details.NWchgInd="N",l_items_details.NHchgInd="N",l_items_details.NDchgInd="N";var model=apex.region("ig_item_dim").widget().interactiveGrid("getViews","grid").model,i=0,item_code=[],item_multiselct="N";if(void 0!==l_items_details.delete_details&&l_items_details.delete_details.length>0){for(var item of l_items_details.delete_details)item_code.push(item.Item);"Y"==l_items_details.g_multiselect&&(item_multiselct="Y")}else item_code=$v("P442_ITEM_CODE");var dim_details={},code,width,height,depth,unit_capacity;model.forEach((function(record,id,recordId){var details=[];for(obj of(code=model.getValue(record,"CODE"),width="",height="",depth="",unit_capacity="",""!==model.getValue(record,"WIDTH")&&(width="R"==code?parseFloat(model.getValue(record,"WIDTH")):parseFloat(model.getValue(record,"WIDTH"))/100),""!==model.getValue(record,"UNIT_CAPACITY")&&(unit_capacity="C"==code||"T"==code?parseFloat(model.getValue(record,"UNIT_CAPACITY")):0),""!==model.getValue(record,"HEIGHT")&&(height="R"==code?parseFloat(model.getValue(record,"HEIGHT")):parseFloat(model.getValue(record,"HEIGHT"))/100),""!==model.getValue(record,"DEPTH")&&(depth="R"==code?parseFloat(model.getValue(record,"DEPTH")):parseFloat(model.getValue(record,"DEPTH"))/100),"Y"==model.getValue(record,"CHNG_IND")&&"N"==code&&(l_items_details.MultiCheck="Y"),record))if((i=record.length-1)&&void 0!==obj.fields)for(keyval of(keys=Object.keys(obj.fields),keys)){var change_check=eval("obj.fields."+keyval);1==change_check.changed&&("U"==recordId&&("WIDTH"==keyval&&(l_items_details.UWchgInd="Y"),"HEIGHT"==keyval&&(l_items_details.UHchgInd="Y"),"DEPTH"==keyval&&(l_items_details.UDchgInd="Y")),"R"==recordId&&("WIDTH"==keyval&&(l_items_details.RWchgInd="Y"),"HEIGHT"==keyval&&(l_items_details.RHchgInd="Y"),"DEPTH"==keyval&&(l_items_details.RDchgInd="Y")),"C"==recordId&&("WIDTH"==keyval&&(l_items_details.CWchgInd="Y"),"HEIGHT"==keyval&&(l_items_details.CHchgInd="Y"),"DEPTH"==keyval&&(l_items_details.CDchgInd="Y")),"T"==recordId&&("WIDTH"==keyval&&(l_items_details.TWchgInd="Y"),"HEIGHT"==keyval&&(l_items_details.THchgInd="Y"),"DEPTH"==keyval&&(l_items_details.TDchgInd="Y")),"D"==recordId&&("WIDTH"==keyval&&(l_items_details.DWchgInd="Y"),"HEIGHT"==keyval&&(l_items_details.DHchgInd="Y"),"DEPTH"==keyval&&(l_items_details.DDchgInd="Y")),"N"==recordId&&("WIDTH"==keyval&&(l_items_details.NWchgInd="Y"),"HEIGHT"==keyval&&(l_items_details.NHchgInd="Y"),"DEPTH"==keyval&&(l_items_details.NDchgInd="Y")),"O"==recordId&&("WIDTH"==keyval&&(l_items_details.OWchgInd="Y"),"WIDTH"==keyval&&(l_items_details.OHchgInd="Y"),"DEPTH"==keyval&&(l_items_details.ODchgInd="Y")))}"U"==code&&0==$v("P442_MERCH_STYLE")?($s("P442_ITEM_WIDTH",parseFloat((100*width).toFixed(3))),$s("P442_ITEM_HEIGHT",parseFloat((100*height).toFixed(3))),$s("P442_ITEM_DEPTH",parseFloat((100*depth).toFixed(3))),$s("P442_TRAY_WIDTH",0),$s("P442_TRAY_HGT",0),$s("P442_TRAY_DEPTH",0),$s("P442_DISP_WIDTH",0),$s("P442_DISP_HGT",0),$s("P442_DISP_DEPTH",0),$s("P442_CASE_WIDTH",0),$s("P442_CASE_HGT",0),$s("P442_CASE_DEPTH",0)):"T"==code&&1==$v("P442_MERCH_STYLE")?($s("P442_TRAY_WIDTH",parseFloat((100*width).toFixed(3))),$s("P442_TRAY_HGT",parseFloat((100*height).toFixed(3))),$s("P442_TRAY_DEPTH",parseFloat((100*depth).toFixed(3))),$s("P442_UNIT_PER_TRAY",unit_capacity),$s("P442_DISP_WIDTH",0),$s("P442_DISP_HGT",0),$s("P442_DISP_DEPTH",0),$s("P442_CASE_WIDTH",0),$s("P442_CASE_HGT",0),$s("P442_CASE_DEPTH",0),$s("P442_ITEM_WIDTH",0),$s("P442_ITEM_HEIGHT",0),$s("P442_ITEM_DEPTH",0),$s("P442_CONTAIN_VAL",0),$s("P442_NESTING_VAL",0)):"D"==code&&3==$v("P442_MERCH_STYLE")?($s("P442_DISP_WIDTH",parseFloat((100*width).toFixed(3))),$s("P442_DISP_HGT",parseFloat((100*height).toFixed(3))),$s("P442_DISP_DEPTH",parseFloat((100*depth).toFixed(3))),$s("P442_TRAY_WIDTH",0),$s("P442_TRAY_HGT",0),$s("P442_TRAY_DEPTH",0),$s("P442_CASE_WIDTH",0),$s("P442_CASE_HGT",0),$s("P442_CASE_DEPTH",0),$s("P442_ITEM_WIDTH",0),$s("P442_ITEM_HEIGHT",0),$s("P442_ITEM_DEPTH",0),$s("P442_CONTAIN_VAL",0),$s("P442_NESTING_VAL",0)):"C"==code&&2==$v("P442_MERCH_STYLE")?($s("P442_CASE_WIDTH",parseFloat((100*width).toFixed(3))),$s("P442_CASE_HGT",parseFloat((100*height).toFixed(3))),$s("P442_CASE_DEPTH",parseFloat(100*depth).toFixed(3)),$s("P442_UNIT_PER_CASE",unit_capacity),$s("P442_TRAY_WIDTH",0),$s("P442_TRAY_HGT",0),$s("P442_TRAY_DEPTH",0),$s("P442_DISP_WIDTH",0),$s("P442_DISP_HGT",0),$s("P442_DISP_DEPTH",0),$s("P442_ITEM_WIDTH",0),$s("P442_ITEM_HEIGHT",0),$s("P442_ITEM_DEPTH",0),$s("P442_CONTAIN_VAL",0),$s("P442_NESTING_VAL",0)):"R"==code?($s("P442_CRUSH_WDT_PERC",parseFloat((""==width?0:width).toFixed(3))),$s("P442_CRUSH_HGT_PERC",parseFloat((""==height?0:height).toFixed(3))),$s("P442_CRUSH_DPT_PERC",parseFloat((""==depth?0:depth).toFixed(3)))):"O"==code&&0==$v("P442_MERCH_STYLE")?"W"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*width).toFixed(2)):"H"==$v("P442_ITEM_CONTAIN")?$s("P442_CONTAIN_VAL",(100*height).toFixed(2)):"D"==$v("P442_ITEM_CONTAIN")&&$s("P442_CONTAIN_VAL",(100*depth).toFixed(2)):"N"==code&&0==$v("P442_MERCH_STYLE")&&("W"==$v("P442_NESTING")?$s("P442_NESTING_VAL",(100*width).toFixed(2)):"H"==$v("P442_NESTING")?$s("P442_NESTING_VAL",(100*height).toFixed(2)):"D"==$v("P442_NESTING")&&$s("P442_NESTING_VAL",(100*depth).toFixed(2))),details.push(width),details.push(height),details.push(depth),details.push(unit_capacity),dim_details[code]=details})),apex.server.process("UPDATE_ITEM_DIM",{f01:item_code,p_clob_01:JSON.stringify(dim_details)},{dataType:"text",success:async function(_){l_items_details.OrgUW=nvl(dim_details.U[0]),l_items_details.OrgUH=nvl(dim_details.U[1]),l_items_details.OrgUD=nvl(dim_details.U[2]),l_items_details.OrgTW=nvl(dim_details.T[0]),l_items_details.OrgTH=nvl(dim_details.T[1]),l_items_details.OrgTD=nvl(dim_details.T[2]),l_items_details.OrgDW=nvl(dim_details.D[0]),l_items_details.OrgDH=nvl(dim_details.D[1]),l_items_details.OrgDD=nvl(dim_details.D[2]),l_items_details.OrgCW=nvl(dim_details.C[0]),l_items_details.OrgCH=nvl(dim_details.C[1]),l_items_details.OrgCD=nvl(dim_details.C[2]),l_items_details.OrgCWPerc=nvl(dim_details.R[0]),l_items_details.OrgCHPerc=nvl(dim_details.R[1]),l_items_details.OrgCDPerc=nvl(dim_details.R[2]),l_items_details.OrgCnW=nvl(dim_details.O[0]),l_items_details.OrgCnH=nvl(dim_details.O[1]),l_items_details.OrgCnD=nvl(dim_details.O[2]),l_items_details.CnW=nvl(dim_details.O[0]),l_items_details.CnH=nvl(dim_details.O[1]),l_items_details.CnD=nvl(dim_details.O[2]),l_items_details.NW=nvl(dim_details.N[0]),l_items_details.NH=nvl(dim_details.N[1]),l_items_details.ND=nvl(dim_details.N[2]),l_items_details.OrgNW=nvl(dim_details.N[0]),l_items_details.OrgNH=nvl(dim_details.N[1]),l_items_details.OrgND=nvl(dim_details.N[2]),l_items_details.dim_details=dim_details,apex.message.showPageSuccess(apex.lang.getMessage("APEX.IG.CHANGES_SAVED")),g_dblclick_opened="N","Y"!==l_items_details.g_multiselect&&"CHEST"!==l_items_details.CType&&(void 0!==l_items_details.ShelfInfo&&"N"!=l_items_details.ShelfInfo[0].Combine&&""!=l_items_details.ShelfInfo[0].Combine||await get_crush_perc(l_items_details)),closeInlineDialog("item_dim_details")},loadingIndicatorPosition:"page"}),logDebug("function : save_item_master","E")}catch(_){console.log("err",_)}}function validate_submit(){try{logDebug("function : validate_submit ","S");var _=parseFloat($v("P442_NESTING_VAL"))/100;if("N"==l_items_details.g_multiselect&&"N"==l_items_details.g_ctrl_select){var e=l_items_details.MHorizFacings,s=l_items_details.MVertFacings,a=l_items_details.MDepthFacings;parseFloat($v("P442_POG_MAX_H_FACINGS"))>0&&parseFloat($v("P442_POG_MAX_H_FACINGS"))>e&&(e=parseFloat($v("P442_POG_MAX_H_FACINGS"))),parseFloat($v("P442_POG_MAX_V_FACINGS"))>0&&parseFloat($v("P442_POG_MAX_V_FACINGS"))>s&&(s=parseFloat($v("P442_POG_MAX_V_FACINGS"))),parseFloat($v("P442_POG_MAX_D_FACINGS"))>0&&parseFloat($v("P442_POG_MAX_D_FACINGS"))>a&&(a=parseFloat($v("P442_POG_MAX_D_FACINGS"))),"0"==$v("P442_MERCH_STYLE")&&parseFloat($v("P442_ITEM_WIDTH"))/100<=0&&parseFloat($v("P442_ITEM_HEIGHT"))/100<=0&&parseFloat($v("P442_ITEM_DEPTH"))/100<=0||"2"==$v("P442_MERCH_STYLE")&&parseFloat($v("P442_CASE_WIDTH"))/100<=0&&parseFloat($v("P442_CASE_HGT"))/100<=0&&parseFloat($v("P442_CASE_DEPTH"))/100<=0||"1"==$v("P442_MERCH_STYLE")&&parseFloat($v("P442_TRAY_WIDTH"))/100<=0&&parseFloat($v("P442_TRAY_HGT"))/100<=0&&parseFloat($v("P442_TRAY_DEPTH"))/100<=0||"3"==$v("P442_MERCH_STYLE")&&parseFloat($v("P442_DISP_WIDTH"))/100<=0&&parseFloat($v("P442_DISP_HGT"))/100<=0&&parseFloat($v("P442_DISP_DEPTH"))/100<=0?alert(get_message("DIM_NOT_NULL")):0==parseFloat($v("P442_ITEM_BASE_HORIZ"))||0==parseFloat($v("P442_ITEM_BASE_VERT"))||0==parseFloat($v("P442_ITEM_BASE_DEPTH"))||0==parseFloat($v("P442_POG_MAX_V_FACINGS"))||0==parseFloat($v("P442_POG_MAX_H_FACINGS"))||0==parseFloat($v("P442_POG_MAX_D_FACINGS"))?alert(get_message("FACING_NOT_LESS_TH_ONE")):e<parseFloat($v("P442_ITEM_BASE_HORIZ"))&&e>-1||s<parseFloat($v("P442_ITEM_BASE_VERT"))&&s>-1||a<parseFloat($v("P442_ITEM_BASE_DEPTH"))&&a>-1?alert(get_message("POGCR_MAX_FACING_REACH")):""!==$v("P442_ITEM_ROTATION")&&(parseFloat($v("P442_ITEM_ROTATION"))>359||parseFloat($v("P442_ITEM_ROTATION"))<0)?alert(get_message("ROTATION_BTW_RANGE")):_>0&&"H"==$v("P442_NESTING")&&_>l_items_details.H?alert(get_message("LOST_FROM_NEST_HGT_GRT",l_items_details.Shelf)):_>0&&"W"==$v("P442_NESTING")&&_>l_items_details.W?alert(get_message("LOST_FROM_NEST_WDT_GRT",l_items_details.Shelf)):_>0&&"D"==$v("P442_NESTING")&&_>l_items_details.D?alert(get_message("LOST_FROM_NEST_DPT_GRT",l_items_details.Shelf)):parseFloat($v("P442_CRUSH_WDT_PERC"))>100||parseFloat($v("P442_CRUSH_HGT_PERC"))>100||parseFloat($v("P442_CRUSH_DPT_PERC"))>100?alert(get_message("ITEM_CRUSH_GRT_100",l_items_details.Shelf)):"1"==$v("P442_CAP_STYLE")&&$v("P442_CAP_FACING")>1?alert(get_message("CAP_HORZ_FAC_GRT_ERR")):submit_items("S")}else _>0&&"H"==$v("P442_NESTING")&&_>l_items_details.H?alert(get_message("LOST_FROM_NEST_HGT_GRT",l_items_details.Shelf)):_>0&&"W"==$v("P442_NESTING")&&_>l_items_details.W?alert(get_message("LOST_FROM_NEST_WDT_GRT",l_items_details.Shelf)):_>0&&"D"==$v("P442_NESTING")&&_>l_items_details.D?alert(get_message("LOST_FROM_NEST_DPT_GRT",l_items_details.Shelf)):"1"==$v("P442_CAP_STYLE")&&$v("P442_CAP_FACING")>1?alert(get_message("CAP_HORZ_FAC_GRT_ERR")):submit_items("M");logDebug("function : validate_submit ","E")}catch(_){error_handling(_)}}async function submit_items(_){try{logDebug("function : submit_items ","S");var e="Y";if("M"==_?(l_items_details.PegID=$v("P442_PEG_ID"),l_items_details.PegSpread=$v("P442_PEG_SPREAD"),l_items_details.Fixed=$v("P442_ITEM_FIXED"),l_items_details.Orientation=$v("P442_ITEM_ORIENTATION"),l_items_details.MerchStyle=$v("P442_MERCH_STYLE"),l_items_details.Color=$v("P442_ITEM_COLOR"),l_items_details.MPogVertFacings=parseFloat($v("P442_POG_MAX_V_FACINGS")),l_items_details.MPogHorizFacings=parseFloat($v("P442_POG_MAX_H_FACINGS")),l_items_details.MPogDepthFacings=parseFloat($v("P442_POG_MAX_D_FACINGS")),l_items_details.Action="U",l_items_details.ItemNesting=$v("P442_NESTING"),l_items_details.NestingVal=parseFloat($v("P442_NESTING_VAL"))/100,l_items_details.CapStyle=$v("P442_CAP_STYLE"),l_items_details.CapFacing=$v("P442_CAP_FACING"),l_items_details.CapMerch=$v("P442_CAP_MERCH_STYLE"),l_items_details.CapOrientaion=$v("P442_CAP_ORIENTATION"),l_items_details.CapDepth=$v("P442_CAP_DEPT"),l_items_details.CapHorz=$v("P442_CAP_HORZ"),l_items_details.CapMaxH=parseFloat($v("P442_CAP_MAX_HIGH")),l_items_details.MaxHCapStyle=$v("P442_MAX_HIGH_CAP_STYLE"),l_items_details.CapDepthChanged=$v("P442_CAP_DEPTH_CHANGED")):(l_items_details.ItemNesting=$v("P442_NESTING"),l_items_details.OrientationDesc=$("#P442_ITEM_ORIENTATION :selected").text(),l_items_details.ItemContain=$v("P442_ITEM_CONTAIN"),l_items_details.IsContainer=$v("P442_PRODUCT_IS_CONT"),"W"==$v("P442_ITEM_CONTAIN")?l_items_details.CnW=parseFloat($v("P442_CONTAIN_VAL"))/100:"H"==$v("P442_ITEM_CONTAIN")?l_items_details.CnH=parseFloat($v("P442_CONTAIN_VAL"))/100:"D"==$v("P442_ITEM_CONTAIN")&&(l_items_details.CnD=parseFloat($v("P442_CONTAIN_VAL"))/100),l_items_details.BHoriz=parseFloat($v("P442_ITEM_BASE_HORIZ")),l_items_details.BVert=parseFloat($v("P442_ITEM_BASE_VERT")),"BASKET"==l_items_details.CType?l_items_details.BaseD=parseFloat($v("P442_ITEM_QTY")):l_items_details.BaseD=parseFloat($v("P442_ITEM_BASE_DEPTH")),l_items_details.NestingVal=parseFloat($v("P442_NESTING_VAL"))/100,l_items_details.ContainVal=parseFloat($v("P442_CONTAIN_VAL"))/100,l_items_details.Color=$v("P442_ITEM_COLOR"),l_items_details.MPogVertFacings=parseFloat($v("P442_POG_MAX_V_FACINGS")),l_items_details.MPogHorizFacings=parseFloat($v("P442_POG_MAX_H_FACINGS")),l_items_details.MPogDepthFacings=parseFloat($v("P442_POG_MAX_D_FACINGS")),l_items_details.UnitperCase=$v("P442_UNIT_PER_CASE"),l_items_details.UnitperTray=$v("P442_UNIT_PER_TRAY"),l_items_details.Fixed=$v("P442_ITEM_FIXED"),l_items_details.LocID=$v("P442_LOCATION_ID"),l_items_details.Orientation=$v("P442_ITEM_ORIENTATION"),l_items_details.MerchStyle=$v("P442_MERCH_STYLE"),l_items_details.Rotation=parseFloat($v("P442_ITEM_ROTATION")),l_items_details.CapStyle=$v("P442_CAP_STYLE"),l_items_details.CapFacing=$v("P442_CAP_FACING"),l_items_details.CapMerch=$v("P442_CAP_MERCH_STYLE"),l_items_details.CapOrientaion=$v("P442_CAP_ORIENTATION"),l_items_details.CapDepth=$v("P442_CAP_DEPT"),l_items_details.CapHorz=$v("P442_CAP_HORZ"),l_items_details.CapMaxH=parseFloat($v("P442_CAP_MAX_HIGH")),l_items_details.MaxHCapStyle=$v("P442_MAX_HIGH_CAP_STYLE"),l_items_details.PegID=$v("P442_PEG_ID"),l_items_details.PegSpread=$v("P442_PEG_SPREAD"),l_items_details.PegPerFacing=$v("P442_PEG_PER_FACING"),l_items_details.BsktFactor=parseFloat($v("P442_BASKET_FACTOR"))/100,l_items_details.OverHang=parseFloat($v("P442_ITEM_OVERHANG"))/100,l_items_details.HorizGap=parseFloat($v("P442_ITEM_HORIZ_GAP"))/100,l_items_details.VertGap=parseFloat($v("P442_ITEM_VERT_GAP"))/100,l_items_details.Quantity=parseFloat($v("P442_ITEM_QTY")),l_items_details.CapDepthChanged=$v("P442_CAP_DEPTH_CHANGED"),l_items_details.Action="U"),0!==l_items_details.CapStyle&&"Y"==$v("P442_CAP_DEPTH_CHANGED")&&(e=await validate_cap_depth()),"Y"==e){var s="N";if("M"!==_){g_combinedShelfs=l_items_details.g_combinedShelfs;var[a,t]=getCombinationShelf(l_items_details.PIndex,l_items_details.ShelfInfo[0].Shelf);-1!==a&&(s=g_combinedShelfs[a][0].AllowAutoCrush)}if("Y"==auto_crush||"Y"==s){var[l,i,d,P,C,T]=get_new_orientation_dim(l_items_details.OldOrientation,l_items_details.OW,l_items_details.OH,l_items_details.OD);"0"==l_items_details.OldOrientation?(l_items_details.CrushHoriz=parseFloat($v("P442_CRUSH_HORIZ")),l_items_details.CrushVert=parseFloat($v("P442_CRUSH_VERT")),l_items_details.CrushD=parseFloat($v("P442_CRUSH_DEPTH"))):"0"!==l_items_details.OldOrientation&&("H"==P?l_items_details.CrushVert=parseFloat($v("P442_CRUSH_VERT")):"W"==P?l_items_details.CrushHoriz=parseFloat($v("P442_CRUSH_VERT")):"D"==P&&(l_items_details.CrushD=parseFloat($v("P442_CRUSH_VERT"))),"H"==C?l_items_details.CrushVert=parseFloat($v("P442_CRUSH_HORIZ")):"W"==C?l_items_details.CrushHoriz=parseFloat($v("P442_CRUSH_HORIZ")):"D"==C&&(l_items_details.CrushD=parseFloat($v("P442_CRUSH_HORIZ"))),"H"==T?l_items_details.CrushVert=parseFloat($v("P442_CRUSH_DEPTH")):"W"==T?l_items_details.CrushHoriz=parseFloat($v("P442_CRUSH_DEPTH")):"D"==T&&(l_items_details.CrushD=parseFloat($v("P442_CRUSH_DEPTH")))),"Y"==l_items_details.OrientationChng&&("Y"==l_items_details.HorizAutoCrushed&&("D"==C?l_items_details.CrushD=0:"W"==C?l_items_details.CrushHoriz=0:"H"==C&&(l_items_details.CrushVert=0)),"Y"==l_items_details.VertAutoCrushed&&("D"==P?l_items_details.CrushD=0:"W"==P?l_items_details.CrushHoriz=0:"H"==P&&(l_items_details.CrushVert=0)),"Y"==l_items_details.DepthAutoCrushed&&("D"==T?l_items_details.CrushD=0:"W"==T?l_items_details.CrushHoriz=0:"H"==T&&(l_items_details.CrushVert=0))),l_items_details.CWPerc=parseFloat($v("P442_CRUSH_WDT_PERC")),l_items_details.CHPerc=parseFloat($v("P442_CRUSH_HGT_PERC")),l_items_details.CDPerc=parseFloat($v("P442_CRUSH_DPT_PERC")),"Y"==s&&(l_items_details.ShelfAutoCrush=s),sessionStorage.setItem("items_details",JSON.stringify(l_items_details)),apex.submit("SAVE_FINAL")}else if("SHELF"==l_items_details.CType||"Y"==l_items_details.g_multiselect||"CHEST"==l_items_details.CType)if(parseFloat($v("P442_CRUSH_WDT_PERC"))>0||parseFloat($v("P442_CRUSH_HGT_PERC"))>0||parseFloat($v("P442_CRUSH_DPT_PERC"))>0){var o=void 0!==l_items_details.CType?l_items_details.CType.toLowerCase():"";confirm(get_message("POGCR_SHELF_AUTO_CRUSH",o),get_message("SHCT_YES"),get_message("SHCT_NO"),(function(){l_items_details.ShelfAutoCrush="Y",l_items_details.CWPerc=parseFloat($v("P442_CRUSH_WDT_PERC")),l_items_details.CrushHoriz=parseFloat($v("P442_CRUSH_HORIZ")),l_items_details.CHPerc=parseFloat($v("P442_CRUSH_HGT_PERC")),l_items_details.CrushVert=parseFloat($v("P442_CRUSH_VERT")),l_items_details.CDPerc=parseFloat($v("P442_CRUSH_DPT_PERC")),l_items_details.CrushD=parseFloat($v("P442_CRUSH_DEPTH")),sessionStorage.setItem("items_details",JSON.stringify(l_items_details)),apex.submit("SAVE_FINAL")}),(function(){l_items_details.CWPerc=parseFloat($v("P442_CRUSH_WDT_PERC")),l_items_details.CHPerc=parseFloat($v("P442_CRUSH_HGT_PERC")),l_items_details.CDPerc=parseFloat($v("P442_CRUSH_DPT_PERC")),"CHEST"==l_items_details.CType&&(l_items_details.CrushHoriz=parseFloat($v("P442_CRUSH_HORIZ")),l_items_details.CrushVert=parseFloat($v("P442_CRUSH_VERT")),l_items_details.CrushD=parseFloat($v("P442_CRUSH_DEPTH"))),l_items_details.ShelfAutoCrush="N",sessionStorage.setItem("items_details",JSON.stringify(l_items_details)),apex.submit("SAVE_FINAL")}))}else l_items_details.CWPerc=parseFloat($v("P442_CRUSH_WDT_PERC")),l_items_details.CHPerc=parseFloat($v("P442_CRUSH_HGT_PERC")),l_items_details.CDPerc=parseFloat($v("P442_CRUSH_DPT_PERC")),l_items_details.ShelfAutoCrush="N",sessionStorage.setItem("items_details",JSON.stringify(l_items_details)),apex.submit("SAVE_FINAL");else sessionStorage.setItem("items_details",JSON.stringify(l_items_details)),apex.submit("SAVE_FINAL")}logDebug("function : submit_items ","E")}catch(_){error_handling(_)}}function reset_manual_cursh(){if("N"==l_items_details.g_multiselect&&"N"==l_items_details.g_ctrl_select&&l_items_details.OldOrientation!==$v("P442_ITEM_ORIENTATION")){var[_,e,s,a,t,l]=get_new_orientation_dim($v("P442_ITEM_ORIENTATION"),l_items_details.OW,l_items_details.OH,l_items_details.OD),[i,d,P,C,T,o]=get_new_orientation_dim(l_items_details.OldOrientation,l_items_details.OW,l_items_details.OH,l_items_details.OD);l_items_details.actualDepth=l,l_items_details.actualHeight=a,l_items_details.actualWidth=t,l_items_details.MHorizCrushed="N",l_items_details.MVertCrushed="N",l_items_details.MDepthCrushed="N","Y"==l_items_details.HorizAutoCrushed&&("D"==T?l_items_details.CrushD=0:"W"==T?l_items_details.CrushHoriz=0:"H"==T&&(l_items_details.CrushVert=0)),"Y"==l_items_details.VertAutoCrushed&&("D"==C?l_items_details.CrushD=0:"W"==C?l_items_details.CrushHoriz=0:"H"==C&&(l_items_details.CrushVert=0)),"Y"==l_items_details.DepthAutoCrushed&&("D"==o?l_items_details.CrushD=0:"W"==o?l_items_details.CrushHoriz=0:"H"==o&&(l_items_details.CrushVert=0));let E=l_items_details.CrushHoriz,r=l_items_details.CrushVert,I=l_items_details.CrushD;("W"==a&&E>0||"H"==a&&r>0||"D"==a&&I>0)&&"N"==l_items_details.VertAutoCrushed&&(l_items_details.MVertCrushed="Y"),("W"==t&&E>0||"H"==t&&r>0||"D"==t&&I>0)&&"N"==l_items_details.HorizAutoCrushed&&(l_items_details.MHorizCrushed="Y"),("W"==l&&E>0||"H"==l&&r>0||"D"==l&&I>0)&&("0"==$v("P442_CAP_STYLE")||""==$v("P442_CAP_STYLE")?"N"==l_items_details.DepthAutoCrushed&&(l_items_details.MDepthCrushed="Y"):l_items_details.MDepthCrushed="N")}}async function get_crush_perc(_){var e,s,a,t,l=0,i=_.ShelfInfo[0],d=_.ItemInfo,P=(parseFloat($v("P442_CRUSH_WDT_PERC")),parseFloat($v("P442_CRUSH_HGT_PERC"))),C=parseFloat($v("P442_CRUSH_DPT_PERC")),T=[],o=[],E=[],r=0,I="N",m=0,H="X";"0"==$v("P442_MERCH_STYLE")?parseFloat(_.UW.toFixed(3))!==parseFloat(_.OrgUW.toFixed(3))||parseFloat(_.UH.toFixed(3))!==parseFloat(_.OrgUH.toFixed(3))||parseFloat(_.UD.toFixed(3))!==parseFloat(_.OrgUD.toFixed(3))?(s=_.OrgUW,a=_.OrgUH,t=_.OrgUD):(s=_.UW,a=_.UH,t=_.UD):"2"==$v("P442_MERCH_STYLE")?parseFloat(_.CW.toFixed(3))!==parseFloat(_.OrgCW.toFixed(3))||parseFloat(_.CH.toFixed(3))!==parseFloat(_.OrgCH.toFixed(3))||parseFloat(_.CD.toFixed(3))!==parseFloat(_.OrgCD.toFixed(3))?(s=_.OrgCW,a=_.OrgCH,t=_.OrgCD):(s=_.CW,a=_.CH,t=_.CD):"1"==$v("P442_MERCH_STYLE")?parseFloat(_.TW.toFixed(3))!==parseFloat(_.OrgTW.toFixed(3))||parseFloat(_.TH.toFixed(3))!==parseFloat(_.OrgTH.toFixed(3))||parseFloat(_.TD.toFixed(3))!==parseFloat(_.OrgTD.toFixed(3))?(s=_.OrgTW,a=_.OrgTH,t=_.OrgTD):(s=_.TW,a=_.TH,t=_.TD):"3"==$v("P442_MERCH_STYLE")&&(parseFloat(_.DW.toFixed(3))!==parseFloat(_.OrgDW.toFixed(3))||parseFloat(_.DH.toFixed(3))!==parseFloat(_.OrgDH.toFixed(3))||parseFloat(_.DD.toFixed(3))!==parseFloat(_.OrgDD.toFixed(3))?(s=_.OrgDW,a=_.OrgDH,t=_.OrgDD):(s=_.DW,a=_.DH,t=_.DD));var $=0;if($="BASKET"==i.ObjType?parseFloat($v("P442_ITEM_QTY")):parseFloat($v("P442_ITEM_BASE_DEPTH")),s=s*parseFloat($v("P442_ITEM_BASE_HORIZ"))+parseFloat($v("P442_ITEM_HORIZ_GAP"))/100*(parseFloat($v("P442_ITEM_BASE_HORIZ"))-1),a=a*parseFloat($v("P442_ITEM_BASE_VERT"))+parseFloat($v("P442_ITEM_VERT_GAP"))/100*(parseFloat($v("P442_ITEM_BASE_VERT"))-1),t*="Y"==_.g_overhung_shelf_active||"Y"==_.g_auto_cal_depth_fac?1:$,"PEGBOARD"==i.ObjType)var R=i.VertiSpacing;else R=i.HorizGap;e=R>0?R:0;for(const s of _.ItemInfo)_.ObjID!==s.ObjID&&(l+=s.W+e);if((l+=s)>i.W){var A=0,p=0;for(const e of d)e.ObjID==_.ObjID&&(e.CWPerc=parseFloat($v("P442_CRUSH_WDT_PERC")),e.CrushHoriz=parseFloat($v("P442_CRUSH_HORIZ"))),p=(void 0===e.MHorizCrushed||"N"==e.MHorizCrushed)&&parseFloat($v("P442_CRUSH_WDT_PERC"))>0?e.CWPerc:e.CrushHoriz,"N"==e.Fixed&&p>0&&(I="Y",T.push(A),o.push(e.W),E.push(e.CrushHoriz)),A++;if("Y"==I){for(A=1;A<100;A++){r=0;var N=0,D=0;for(const _ of d){p=0;p=(void 0===_.MHorizCrushed||"N"==_.MHorizCrushed)&&_.CWPerc>0?_.CWPerc:_.CrushHoriz,-1!==T.indexOf(D)&&A<=p?(N=_.RW-_.RW*(A/100))>=_.RW-_.RW*(p/100)?(r+=N,_.W=N,_.CrushHoriz=A):r+=_.RW:r+=_.W,R>0&&(r+=_.SpreadItem),D++}if(i.W-r>=0){s=N,m=A,H="X";break}H="W"}$s("P442_CRUSH_HORIZ",m)}}if(m=0,a>_.Maxmerch){for(A=0;A<P;A++){if(new_height=a-a*A/100,_.Maxmerch>=new_height){m=A,H="X";break}H="V"}$s("P442_CRUSH_VERT",m)}if(m=0,t>i.D){var S=0;for(D=0;D<=C;D++){if(S=t-t*D/100,i.D>=S){m=D,H="X";break}H="D"}$s("P442_CRUSH_DEPTH",m)}if("X"!=H){switch(H){case"D":H=get_message("POGCR_CRUSH_DEPTH");break;case"H":H=get_message("POGCR_CRUSH_HOZI");break;case"V":H=get_message("POGCR_CRUSH_VERT")}alert(get_message("POGCR_VALIDATE_CRUSH_PER",H))}}async function validate_cap_depth(){return new Promise(((_,e)=>{var s,a,t,l,i,d;"0"==$v("P442_MERCH_STYLE")?parseFloat(l_items_details.UW.toFixed(3))!==parseFloat(l_items_details.OrgUW.toFixed(3))||parseFloat(l_items_details.UH.toFixed(3))!==parseFloat(l_items_details.OrgUH.toFixed(3))||parseFloat(l_items_details.UD.toFixed(3))!==parseFloat(l_items_details.OrgUD.toFixed(3))?(s=l_items_details.OrgUW,a=l_items_details.OrgUH,t=l_items_details.OrgUD):(s=l_items_details.UW,a=l_items_details.UH,t=l_items_details.UD):"2"==$v("P442_MERCH_STYLE")?parseFloat(l_items_details.CW.toFixed(3))!==parseFloat(l_items_details.OrgCW.toFixed(3))||parseFloat(l_items_details.CH.toFixed(3))!==parseFloat(l_items_details.OrgCH.toFixed(3))||parseFloat(l_items_details.CD.toFixed(3))!==parseFloat(l_items_details.OrgCD.toFixed(3))?(s=l_items_details.OrgCW,a=l_items_details.OrgCH,t=l_items_details.OrgCD):(s=l_items_details.CW,a=l_items_details.CH,t=l_items_details.CD):"1"==$v("P442_MERCH_STYLE")?parseFloat(l_items_details.TW.toFixed(3))!==parseFloat(l_items_details.OrgTW.toFixed(3))||parseFloat(l_items_details.TH.toFixed(3))!==parseFloat(l_items_details.OrgTH.toFixed(3))||parseFloat(l_items_details.TD.toFixed(3))!==parseFloat(l_items_details.OrgTD.toFixed(3))?(s=l_items_details.OrgTW,a=l_items_details.OrgTH,t=l_items_details.OrgTD):(s=l_items_details.TW,a=l_items_details.TH,t=l_items_details.TD):"3"==$v("P442_MERCH_STYLE")&&(parseFloat(l_items_details.DW.toFixed(3))!==parseFloat(l_items_details.OrgDW.toFixed(3))||parseFloat(l_items_details.DH.toFixed(3))!==parseFloat(l_items_details.OrgDH.toFixed(3))||parseFloat(l_items_details.DD.toFixed(3))!==parseFloat(l_items_details.OrgDD.toFixed(3))?(s=l_items_details.OrgDW,a=l_items_details.OrgDH,t=l_items_details.OrgDD):(s=l_items_details.DW,a=l_items_details.DH,t=l_items_details.DD));var P=""==l_items_details.CapMerch?"0":l_items_details.CapMerch,C=""==l_items_details.CapOrientaion?"4":l_items_details.CapOrientaion,[s,a,t,T,o,E]=get_new_orientation_dim(l_items_details.Orientation,s,a,t),r=t*l_items_details.BaseD;"0"==P?parseFloat(l_items_details.UW.toFixed(3))!==parseFloat(l_items_details.OrgUW.toFixed(3))||parseFloat(l_items_details.UH.toFixed(3))!==parseFloat(l_items_details.OrgUH.toFixed(3))||parseFloat(l_items_details.UD.toFixed(3))!==parseFloat(l_items_details.OrgUD.toFixed(3))?(l=l_items_details.OrgUW,i=l_items_details.OrgUH,d=l_items_details.OrgUD):(l=l_items_details.UW,i=l_items_details.UH,d=l_items_details.UD):"2"==P?parseFloat(l_items_details.CW.toFixed(3))!==parseFloat(l_items_details.OrgCW.toFixed(3))||parseFloat(l_items_details.CH.toFixed(3))!==parseFloat(l_items_details.OrgCH.toFixed(3))||parseFloat(l_items_details.CD.toFixed(3))!==parseFloat(l_items_details.OrgCD.toFixed(3))?(l=l_items_details.OrgCW,i=l_items_details.OrgCH,d=l_items_details.OrgCD):(l=l_items_details.CW,i=l_items_details.CH,d=l_items_details.CD):"1"==P?parseFloat(l_items_details.TW.toFixed(3))!==parseFloat(l_items_details.OrgTW.toFixed(3))||parseFloat(l_items_details.TH.toFixed(3))!==parseFloat(l_items_details.OrgTH.toFixed(3))||parseFloat(l_items_details.TD.toFixed(3))!==parseFloat(l_items_details.OrgTD.toFixed(3))?(l=l_items_details.OrgTW,i=l_items_details.OrgTH,d=l_items_details.OrgTD):(l=l_items_details.TW,i=l_items_details.TH,d=l_items_details.TD):"3"==P&&(parseFloat(l_items_details.DW.toFixed(3))!==parseFloat(l_items_details.OrgDW.toFixed(3))||parseFloat(l_items_details.DH.toFixed(3))!==parseFloat(l_items_details.OrgDH.toFixed(3))||parseFloat(l_items_details.DD.toFixed(3))!==parseFloat(l_items_details.OrgDD.toFixed(3))?(l=l_items_details.OrgDW,i=l_items_details.OrgDH,d=l_items_details.OrgDD):(l=l_items_details.DW,i=l_items_details.DH,d=l_items_details.DD));var[I,m,H,$,R,A]=get_new_orientation_dim(C,l,i,d),p=Math.trunc(r/H);parseInt($v("P442_CAP_DEPT"))>p?(alert(get_message("POGCR_CAP_DEPTH_VAL")),_("N")):_("Y")}))}function checkValueConsistency(_,e,s){if(0===_.length)return!1;var a=_.filter((_=>"ITEM"==_.Object)),t=nvl(a[0].ItemObj[0][e]);for(item of(t=isNaN(t)?t.toUpperCase():t,a)){var l=nvl(item.ItemObj[0][e]);if(t!=(l=isNaN(l)?l.toUpperCase():l)||(l!=s||0===nvl(s))&&0!=nvl(s))return!1}return!0}function setIconForInconsistentTag(_,e,s,a=""){if(checkValueConsistency(_,e)){var t=_.filter((_=>"ITEM"==_.Object))[0].ItemObj[0][e];"P442_ITEM_ORIENTATION"==s&&(t=String(t)),$s(s,t)}else $("#"+s+"_CONTAINER").addClass("apex-item-wrapper--has-icon"),$("#"+s).addClass("apex-item-has-icon"),$("#"+s).after('<span class="apex-item-icon fa fa-exclamation-triangle-o" aria-hidden="true"></span>'),$s(s,a)}